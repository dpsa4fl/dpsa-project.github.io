<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The Aggregatorâ€™s role in the execution of a VDAF."><title>Aggregator in prio::vdaf - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-cb6f1f67f1bcd037.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="prio" data-themes="" data-resource-suffix="" data-rustdoc-version="1.73.0 (cc66ad468 2023-10-03)" data-channel="1.73.0" data-search-js="search-6dfdfced5eff6596.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-1596385f77d47ef2.css" data-theme-dark-css="dark-0a43001d3fc2282c.css" data-theme-ayu-css="ayu-fd19013d6ce078bf.css" ><script src="../../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-1596385f77d47ef2.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-0a43001d3fc2282c.css"><link rel="stylesheet" href="../../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../prio/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../prio/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Aggregator</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.PrepareMessage">PrepareMessage</a></li><li><a href="#associatedtype.PrepareShare">PrepareShare</a></li><li><a href="#associatedtype.PrepareState">PrepareState</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.aggregate">aggregate</a></li><li><a href="#tymethod.prepare_init">prepare_init</a></li><li><a href="#tymethod.prepare_next">prepare_next</a></li><li><a href="#tymethod.prepare_shares_to_prepare_message">prepare_shares_to_prepare_message</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.prepare_preprocess">prepare_preprocess</a></li><li><a href="#method.prepare_step">prepare_step</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In prio::vdaf</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">prio</a>::<wbr><a href="index.html">vdaf</a>::<wbr><a class="trait" href="#">Aggregator</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/prio/vdaf.rs.html#223-341">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait Aggregator&lt;const VERIFY_KEY_SIZE: <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.usize.html">usize</a>, const NONCE_SIZE: <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.usize.html">usize</a>&gt;: <a class="trait" href="trait.Vdaf.html" title="trait prio::vdaf::Vdaf">Vdaf</a> {
    type <a href="#associatedtype.PrepareState" class="associatedtype">PrepareState</a>: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/cmp/trait.PartialEq.html" title="trait core::cmp::PartialEq">PartialEq</a> + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a>;
    type <a href="#associatedtype.PrepareShare" class="associatedtype">PrepareShare</a>: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="../codec/trait.ParameterizedDecode.html" title="trait prio::codec::ParameterizedDecode">ParameterizedDecode</a>&lt;Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareState" title="type prio::vdaf::Aggregator::PrepareState">PrepareState</a>&gt; + <a class="trait" href="../codec/trait.Encode.html" title="trait prio::codec::Encode">Encode</a>;
    type <a href="#associatedtype.PrepareMessage" class="associatedtype">PrepareMessage</a>: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/cmp/trait.PartialEq.html" title="trait core::cmp::PartialEq">PartialEq</a> + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a> + <a class="trait" href="../codec/trait.ParameterizedDecode.html" title="trait prio::codec::ParameterizedDecode">ParameterizedDecode</a>&lt;Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareState" title="type prio::vdaf::Aggregator::PrepareState">PrepareState</a>&gt; + <a class="trait" href="../codec/trait.Encode.html" title="trait prio::codec::Encode">Encode</a>;

    // Required methods
    fn <a href="#tymethod.prepare_init" class="fn">prepare_init</a>(
        &amp;self,
        verify_key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.array.html">VERIFY_KEY_SIZE</a>],
        agg_id: <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.usize.html">usize</a>,
        agg_param: &amp;Self::<a class="associatedtype" href="trait.Vdaf.html#associatedtype.AggregationParam" title="type prio::vdaf::Vdaf::AggregationParam">AggregationParam</a>,
        nonce: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.array.html">NONCE_SIZE</a>],
        public_share: &amp;Self::<a class="associatedtype" href="trait.Vdaf.html#associatedtype.PublicShare" title="type prio::vdaf::Vdaf::PublicShare">PublicShare</a>,
        input_share: &amp;Self::<a class="associatedtype" href="trait.Vdaf.html#associatedtype.InputShare" title="type prio::vdaf::Vdaf::InputShare">InputShare</a>
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareState" title="type prio::vdaf::Aggregator::PrepareState">PrepareState</a>, Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareShare" title="type prio::vdaf::Aggregator::PrepareShare">PrepareShare</a>), <a class="enum" href="enum.VdafError.html" title="enum prio::vdaf::VdafError">VdafError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.prepare_shares_to_prepare_message" class="fn">prepare_shares_to_prepare_message</a>&lt;M: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareShare" title="type prio::vdaf::Aggregator::PrepareShare">PrepareShare</a>&gt;&gt;(
        &amp;self,
        agg_param: &amp;Self::<a class="associatedtype" href="trait.Vdaf.html#associatedtype.AggregationParam" title="type prio::vdaf::Vdaf::AggregationParam">AggregationParam</a>,
        inputs: M
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareMessage" title="type prio::vdaf::Aggregator::PrepareMessage">PrepareMessage</a>, <a class="enum" href="enum.VdafError.html" title="enum prio::vdaf::VdafError">VdafError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.prepare_next" class="fn">prepare_next</a>(
        &amp;self,
        state: Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareState" title="type prio::vdaf::Aggregator::PrepareState">PrepareState</a>,
        input: Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareMessage" title="type prio::vdaf::Aggregator::PrepareMessage">PrepareMessage</a>
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="enum.PrepareTransition.html" title="enum prio::vdaf::PrepareTransition">PrepareTransition</a>&lt;Self, VERIFY_KEY_SIZE, NONCE_SIZE&gt;, <a class="enum" href="enum.VdafError.html" title="enum prio::vdaf::VdafError">VdafError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.aggregate" class="fn">aggregate</a>&lt;M: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = Self::<a class="associatedtype" href="trait.Vdaf.html#associatedtype.OutputShare" title="type prio::vdaf::Vdaf::OutputShare">OutputShare</a>&gt;&gt;(
        &amp;self,
        agg_param: &amp;Self::<a class="associatedtype" href="trait.Vdaf.html#associatedtype.AggregationParam" title="type prio::vdaf::Vdaf::AggregationParam">AggregationParam</a>,
        output_shares: M
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self::<a class="associatedtype" href="trait.Vdaf.html#associatedtype.AggregateShare" title="type prio::vdaf::Vdaf::AggregateShare">AggregateShare</a>, <a class="enum" href="enum.VdafError.html" title="enum prio::vdaf::VdafError">VdafError</a>&gt;;

    // Provided methods
    fn <a href="#method.prepare_preprocess" class="fn">prepare_preprocess</a>&lt;M: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareShare" title="type prio::vdaf::Aggregator::PrepareShare">PrepareShare</a>&gt;&gt;(
        &amp;self,
        agg_param: &amp;Self::<a class="associatedtype" href="trait.Vdaf.html#associatedtype.AggregationParam" title="type prio::vdaf::Vdaf::AggregationParam">AggregationParam</a>,
        inputs: M
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareMessage" title="type prio::vdaf::Aggregator::PrepareMessage">PrepareMessage</a>, <a class="enum" href="enum.VdafError.html" title="enum prio::vdaf::VdafError">VdafError</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.prepare_step" class="fn">prepare_step</a>(
        &amp;self,
        state: Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareState" title="type prio::vdaf::Aggregator::PrepareState">PrepareState</a>,
        input: Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareMessage" title="type prio::vdaf::Aggregator::PrepareMessage">PrepareMessage</a>
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="enum.PrepareTransition.html" title="enum prio::vdaf::PrepareTransition">PrepareTransition</a>&lt;Self, VERIFY_KEY_SIZE, NONCE_SIZE&gt;, <a class="enum" href="enum.VdafError.html" title="enum prio::vdaf::VdafError">VdafError</a>&gt; { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The Aggregatorâ€™s role in the execution of a VDAF.</p>
</div></details><h2 id="required-associated-types" class="small-section-header">Required Associated Types<a href="#required-associated-types" class="anchor">Â§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedtype.PrepareState" class="method"><a class="src rightside" href="../../src/prio/vdaf.rs.html#225">source</a><h4 class="code-header">type <a href="#associatedtype.PrepareState" class="associatedtype">PrepareState</a>: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/cmp/trait.PartialEq.html" title="trait core::cmp::PartialEq">PartialEq</a> + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a></h4></section></summary><div class="docblock"><p>State of the Aggregator during the Prepare process.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.PrepareShare" class="method"><a class="src rightside" href="../../src/prio/vdaf.rs.html#231">source</a><h4 class="code-header">type <a href="#associatedtype.PrepareShare" class="associatedtype">PrepareShare</a>: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="../codec/trait.ParameterizedDecode.html" title="trait prio::codec::ParameterizedDecode">ParameterizedDecode</a>&lt;Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareState" title="type prio::vdaf::Aggregator::PrepareState">PrepareState</a>&gt; + <a class="trait" href="../codec/trait.Encode.html" title="trait prio::codec::Encode">Encode</a></h4></section></summary><div class="docblock"><p>The type of messages sent by each aggregator at each round of the Prepare Process.</p>
<p>Decoding takes a <a href="trait.Aggregator.html#associatedtype.PrepareState"><code>Self::PrepareState</code></a> as a parameter; this <a href="trait.Aggregator.html#associatedtype.PrepareState"><code>Self::PrepareState</code></a> may be
associated with any aggregator involved in the execution of the VDAF.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.PrepareMessage" class="method"><a class="src rightside" href="../../src/prio/vdaf.rs.html#238-243">source</a><h4 class="code-header">type <a href="#associatedtype.PrepareMessage" class="associatedtype">PrepareMessage</a>: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/cmp/trait.PartialEq.html" title="trait core::cmp::PartialEq">PartialEq</a> + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a> + <a class="trait" href="../codec/trait.ParameterizedDecode.html" title="trait prio::codec::ParameterizedDecode">ParameterizedDecode</a>&lt;Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareState" title="type prio::vdaf::Aggregator::PrepareState">PrepareState</a>&gt; + <a class="trait" href="../codec/trait.Encode.html" title="trait prio::codec::Encode">Encode</a></h4></section></summary><div class="docblock"><p>Result of preprocessing a round of preparation shares. This is used by all aggregators as an
input to the next round of the Prepare Process.</p>
<p>Decoding takes a <a href="trait.Aggregator.html#associatedtype.PrepareState"><code>Self::PrepareState</code></a> as a parameter; this <a href="trait.Aggregator.html#associatedtype.PrepareState"><code>Self::PrepareState</code></a> may be
associated with any aggregator involved in the execution of the VDAF.</p>
</div></details></div><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">Â§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.prepare_init" class="method"><a class="src rightside" href="../../src/prio/vdaf.rs.html#251-259">source</a><h4 class="code-header">fn <a href="#tymethod.prepare_init" class="fn">prepare_init</a>(
    &amp;self,
    verify_key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.array.html">VERIFY_KEY_SIZE</a>],
    agg_id: <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.usize.html">usize</a>,
    agg_param: &amp;Self::<a class="associatedtype" href="trait.Vdaf.html#associatedtype.AggregationParam" title="type prio::vdaf::Vdaf::AggregationParam">AggregationParam</a>,
    nonce: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.array.html">NONCE_SIZE</a>],
    public_share: &amp;Self::<a class="associatedtype" href="trait.Vdaf.html#associatedtype.PublicShare" title="type prio::vdaf::Vdaf::PublicShare">PublicShare</a>,
    input_share: &amp;Self::<a class="associatedtype" href="trait.Vdaf.html#associatedtype.InputShare" title="type prio::vdaf::Vdaf::InputShare">InputShare</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareState" title="type prio::vdaf::Aggregator::PrepareState">PrepareState</a>, Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareShare" title="type prio::vdaf::Aggregator::PrepareShare">PrepareShare</a>), <a class="enum" href="enum.VdafError.html" title="enum prio::vdaf::VdafError">VdafError</a>&gt;</h4></section></summary><div class="docblock"><p>Begins the Prepare process with the other Aggregators. The <a href="trait.Aggregator.html#associatedtype.PrepareState"><code>Self::PrepareState</code></a> returned
is passed to <a href="trait.Aggregator.html#tymethod.prepare_next"><code>Self::prepare_next</code></a> to get this aggregatorâ€™s first-round prepare message.</p>
<p>Implements <code>Vdaf.prep_init</code> from <a href="https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-vdaf-07#section-5.2">VDAF</a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.prepare_shares_to_prepare_message" class="method"><a class="src rightside" href="../../src/prio/vdaf.rs.html#288-292">source</a><h4 class="code-header">fn <a href="#tymethod.prepare_shares_to_prepare_message" class="fn">prepare_shares_to_prepare_message</a>&lt;M: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareShare" title="type prio::vdaf::Aggregator::PrepareShare">PrepareShare</a>&gt;&gt;(
    &amp;self,
    agg_param: &amp;Self::<a class="associatedtype" href="trait.Vdaf.html#associatedtype.AggregationParam" title="type prio::vdaf::Vdaf::AggregationParam">AggregationParam</a>,
    inputs: M
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareMessage" title="type prio::vdaf::Aggregator::PrepareMessage">PrepareMessage</a>, <a class="enum" href="enum.VdafError.html" title="enum prio::vdaf::VdafError">VdafError</a>&gt;</h4></section></summary><div class="docblock"><p>Preprocess a round of preparation shares into a single input to <a href="trait.Aggregator.html#tymethod.prepare_next"><code>Self::prepare_next</code></a>.</p>
<p>Implements <code>Vdaf.prep_shares_to_prep</code> from <a href="https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-vdaf-07#section-5.2">VDAF</a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.prepare_next" class="method"><a class="src rightside" href="../../src/prio/vdaf.rs.html#329-333">source</a><h4 class="code-header">fn <a href="#tymethod.prepare_next" class="fn">prepare_next</a>(
    &amp;self,
    state: Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareState" title="type prio::vdaf::Aggregator::PrepareState">PrepareState</a>,
    input: Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareMessage" title="type prio::vdaf::Aggregator::PrepareMessage">PrepareMessage</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="enum.PrepareTransition.html" title="enum prio::vdaf::PrepareTransition">PrepareTransition</a>&lt;Self, VERIFY_KEY_SIZE, NONCE_SIZE&gt;, <a class="enum" href="enum.VdafError.html" title="enum prio::vdaf::VdafError">VdafError</a>&gt;</h4></section></summary><div class="docblock"><p>Compute the next state transition from the current state and the previous round of input
messages. If this returns <a href="enum.PrepareTransition.html#variant.Continue" title="variant prio::vdaf::PrepareTransition::Continue"><code>PrepareTransition::Continue</code></a>, then the returned
<a href="trait.Aggregator.html#associatedtype.PrepareShare"><code>Self::PrepareShare</code></a> should be combined with the other Aggregatorsâ€™ <code>PrepareShare</code>s from
this round and passed into another call to this method. This continues until this method
returns <a href="enum.PrepareTransition.html#variant.Finish" title="variant prio::vdaf::PrepareTransition::Finish"><code>PrepareTransition::Finish</code></a>, at which point the returned output share may be
aggregated. If the method returns an error, the aggregator should consider its input share
invalid and not attempt to process it any further.</p>
<p>Implements <code>Vdaf.prep_next</code> from <a href="https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-vdaf-07#section-5.2">VDAF</a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.aggregate" class="method"><a class="src rightside" href="../../src/prio/vdaf.rs.html#336-340">source</a><h4 class="code-header">fn <a href="#tymethod.aggregate" class="fn">aggregate</a>&lt;M: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = Self::<a class="associatedtype" href="trait.Vdaf.html#associatedtype.OutputShare" title="type prio::vdaf::Vdaf::OutputShare">OutputShare</a>&gt;&gt;(
    &amp;self,
    agg_param: &amp;Self::<a class="associatedtype" href="trait.Vdaf.html#associatedtype.AggregationParam" title="type prio::vdaf::Vdaf::AggregationParam">AggregationParam</a>,
    output_shares: M
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self::<a class="associatedtype" href="trait.Vdaf.html#associatedtype.AggregateShare" title="type prio::vdaf::Vdaf::AggregateShare">AggregateShare</a>, <a class="enum" href="enum.VdafError.html" title="enum prio::vdaf::VdafError">VdafError</a>&gt;</h4></section></summary><div class="docblock"><p>Aggregates a sequence of output shares into an aggregate share.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor">Â§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.prepare_preprocess" class="method"><a class="src rightside" href="../../src/prio/vdaf.rs.html#275-281">source</a><h4 class="code-header">fn <a href="#method.prepare_preprocess" class="fn">prepare_preprocess</a>&lt;M: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareShare" title="type prio::vdaf::Aggregator::PrepareShare">PrepareShare</a>&gt;&gt;(
    &amp;self,
    agg_param: &amp;Self::<a class="associatedtype" href="trait.Vdaf.html#associatedtype.AggregationParam" title="type prio::vdaf::Vdaf::AggregationParam">AggregationParam</a>,
    inputs: M
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareMessage" title="type prio::vdaf::Aggregator::PrepareMessage">PrepareMessage</a>, <a class="enum" href="enum.VdafError.html" title="enum prio::vdaf::VdafError">VdafError</a>&gt;</h4></section></summary><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated since 0.15.0: Use Vdaf::prepare_shares_to_prepare_message instead</span></div></span><div class="docblock"><p>Preprocess a round of preparation shares into a single input to <a href="trait.Aggregator.html#tymethod.prepare_next"><code>Self::prepare_next</code></a>.</p>
<p>Implements <code>Vdaf.prep_shares_to_prep</code> from <a href="https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-vdaf-07#section-5.2">VDAF</a>.</p>
<h5 id="notes"><a href="#notes">Notes</a></h5>
<p><a href="trait.Aggregator.html#tymethod.prepare_shares_to_prepare_message"><code>Self::prepare_shares_to_prepare_message</code></a> is preferable since its name better matches the
specification.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.prepare_step" class="method"><a class="src rightside" href="../../src/prio/vdaf.rs.html#310-316">source</a><h4 class="code-header">fn <a href="#method.prepare_step" class="fn">prepare_step</a>(
    &amp;self,
    state: Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareState" title="type prio::vdaf::Aggregator::PrepareState">PrepareState</a>,
    input: Self::<a class="associatedtype" href="trait.Aggregator.html#associatedtype.PrepareMessage" title="type prio::vdaf::Aggregator::PrepareMessage">PrepareMessage</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="enum.PrepareTransition.html" title="enum prio::vdaf::PrepareTransition">PrepareTransition</a>&lt;Self, VERIFY_KEY_SIZE, NONCE_SIZE&gt;, <a class="enum" href="enum.VdafError.html" title="enum prio::vdaf::VdafError">VdafError</a>&gt;</h4></section></summary><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated since 0.15.0: Use Vdaf::prepare_next</span></div></span><div class="docblock"><p>Compute the next state transition from the current state and the previous round of input
messages. If this returns <a href="enum.PrepareTransition.html#variant.Continue" title="variant prio::vdaf::PrepareTransition::Continue"><code>PrepareTransition::Continue</code></a>, then the returned
<a href="trait.Aggregator.html#associatedtype.PrepareShare"><code>Self::PrepareShare</code></a> should be combined with the other Aggregatorsâ€™ <code>PrepareShare</code>s from
this round and passed into another call to this method. This continues until this method
returns <a href="enum.PrepareTransition.html#variant.Finish" title="variant prio::vdaf::PrepareTransition::Finish"><code>PrepareTransition::Finish</code></a>, at which point the returned output share may be
aggregated. If the method returns an error, the aggregator should consider its input share
invalid and not attempt to process it any further.</p>
<p>Implements <code>Vdaf.prep_next</code> from <a href="https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-vdaf-07#section-5.2">VDAF</a>.</p>
<h5 id="notes-1"><a href="#notes-1">Notes</a></h5>
<p><a href="trait.Aggregator.html#tymethod.prepare_next"><code>Self::prepare_next</code></a> is preferable since its name better matches the specification.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">Â§</a></h2><div id="implementors-list"><details class="toggle implementors-toggle"><summary><section id="impl-Aggregator%3CSEED_SIZE,+16%3E-for-Poplar1%3CP,+SEED_SIZE%3E" class="impl"><a class="src rightside" href="../../src/prio/vdaf/poplar1.rs.html#975-1186">source</a><a href="#impl-Aggregator%3CSEED_SIZE,+16%3E-for-Poplar1%3CP,+SEED_SIZE%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;P: <a class="trait" href="xof/trait.Xof.html" title="trait prio::vdaf::xof::Xof">Xof</a>&lt;SEED_SIZE&gt;, const SEED_SIZE: <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.usize.html">usize</a>&gt; <a class="trait" href="trait.Aggregator.html" title="trait prio::vdaf::Aggregator">Aggregator</a>&lt;SEED_SIZE, 16&gt; for <a class="struct" href="poplar1/struct.Poplar1.html" title="struct prio::vdaf::poplar1::Poplar1">Poplar1</a>&lt;P, SEED_SIZE&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.PrepareState-1" class="associatedtype trait-impl"><a href="#associatedtype.PrepareState-1" class="anchor">Â§</a><h4 class="code-header">type <a href="#associatedtype.PrepareState" class="associatedtype">PrepareState</a> = <a class="struct" href="poplar1/struct.Poplar1PrepareState.html" title="struct prio::vdaf::poplar1::Poplar1PrepareState">Poplar1PrepareState</a></h4></section><section id="associatedtype.PrepareShare-1" class="associatedtype trait-impl"><a href="#associatedtype.PrepareShare-1" class="anchor">Â§</a><h4 class="code-header">type <a href="#associatedtype.PrepareShare" class="associatedtype">PrepareShare</a> = <a class="enum" href="poplar1/enum.Poplar1FieldVec.html" title="enum prio::vdaf::poplar1::Poplar1FieldVec">Poplar1FieldVec</a></h4></section><section id="associatedtype.PrepareMessage-1" class="associatedtype trait-impl"><a href="#associatedtype.PrepareMessage-1" class="anchor">Â§</a><h4 class="code-header">type <a href="#associatedtype.PrepareMessage" class="associatedtype">PrepareMessage</a> = <a class="struct" href="poplar1/struct.Poplar1PrepareMessage.html" title="struct prio::vdaf::poplar1::Poplar1PrepareMessage">Poplar1PrepareMessage</a></h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Aggregator%3CSEED_SIZE,+16%3E-for-Prio3%3CT,+P,+SEED_SIZE%3E" class="impl"><a class="src rightside" href="../../src/prio/vdaf/prio3.rs.html#1026-1280">source</a><a href="#impl-Aggregator%3CSEED_SIZE,+16%3E-for-Prio3%3CT,+P,+SEED_SIZE%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;T, P, const SEED_SIZE: <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.usize.html">usize</a>&gt; <a class="trait" href="trait.Aggregator.html" title="trait prio::vdaf::Aggregator">Aggregator</a>&lt;SEED_SIZE, 16&gt; for <a class="struct" href="prio3/struct.Prio3.html" title="struct prio::vdaf::prio3::Prio3">Prio3</a>&lt;T, P, SEED_SIZE&gt;<span class="where fmt-newline">where
    T: <a class="trait" href="../flp/trait.Type.html" title="trait prio::flp::Type">Type</a>,
    P: <a class="trait" href="xof/trait.Xof.html" title="trait prio::vdaf::xof::Xof">Xof</a>&lt;SEED_SIZE&gt;,</span></h3></section></summary><div class="impl-items"><section id="associatedtype.PrepareState-2" class="associatedtype trait-impl"><a href="#associatedtype.PrepareState-2" class="anchor">Â§</a><h4 class="code-header">type <a href="#associatedtype.PrepareState" class="associatedtype">PrepareState</a> = <a class="struct" href="prio3/struct.Prio3PrepareState.html" title="struct prio::vdaf::prio3::Prio3PrepareState">Prio3PrepareState</a>&lt;&lt;T as <a class="trait" href="../flp/trait.Type.html" title="trait prio::flp::Type">Type</a>&gt;::<a class="associatedtype" href="../flp/trait.Type.html#associatedtype.Field" title="type prio::flp::Type::Field">Field</a>, SEED_SIZE&gt;</h4></section><section id="associatedtype.PrepareShare-2" class="associatedtype trait-impl"><a href="#associatedtype.PrepareShare-2" class="anchor">Â§</a><h4 class="code-header">type <a href="#associatedtype.PrepareShare" class="associatedtype">PrepareShare</a> = <a class="struct" href="prio3/struct.Prio3PrepareShare.html" title="struct prio::vdaf::prio3::Prio3PrepareShare">Prio3PrepareShare</a>&lt;&lt;T as <a class="trait" href="../flp/trait.Type.html" title="trait prio::flp::Type">Type</a>&gt;::<a class="associatedtype" href="../flp/trait.Type.html#associatedtype.Field" title="type prio::flp::Type::Field">Field</a>, SEED_SIZE&gt;</h4></section><section id="associatedtype.PrepareMessage-2" class="associatedtype trait-impl"><a href="#associatedtype.PrepareMessage-2" class="anchor">Â§</a><h4 class="code-header">type <a href="#associatedtype.PrepareMessage" class="associatedtype">PrepareMessage</a> = <a class="struct" href="prio3/struct.Prio3PrepareMessage.html" title="struct prio::vdaf::prio3::Prio3PrepareMessage">Prio3PrepareMessage</a>&lt;SEED_SIZE&gt;</h4></section></div></details></div><script src="../../implementors/prio/vdaf/trait.Aggregator.js" async></script></section></div></main></body></html>